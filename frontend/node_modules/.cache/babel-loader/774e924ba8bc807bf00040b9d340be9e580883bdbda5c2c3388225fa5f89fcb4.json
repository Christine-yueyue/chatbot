{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\feedback-management-main\\\\frontend\\\\src\\\\components\\\\chat\\\\chat-form.js\",\n  _s = $RefreshSig$();\nimport { useEnsureRegeneratorRuntime } from \"../../app/hook/useEnsureRegeneratorRuntime\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Ring } from \"@uiball/loaders\";\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\nimport { MicIcon } from \"../icons/mic-icon\";\nimport \"./chat-form.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SendForm({\n  input,\n  handleSubmit,\n  isLoading,\n  handleInputChange\n}) {\n  _s();\n  useEnsureRegeneratorRuntime();\n  const {\n    listening,\n    resetTranscript,\n    transcript,\n    browserSupportsSpeechRecognition\n  } = useSpeechRecognition();\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (document.hidden && listening) {\n        SpeechRecognition.stopListening();\n      }\n    };\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    return () => {\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n  }, [listening]);\n  useEffect(() => {\n    if (transcript) {\n      handleInputChange({\n        target: {\n          value: transcript\n        }\n      });\n    }\n  }, [transcript, handleInputChange]);\n  const toggleSpeech = () => {\n    if (listening) {\n      SpeechRecognition.stopListening();\n    } else {\n      resetTranscript();\n      SpeechRecognition.startListening({\n        continuous: true\n      });\n    }\n  };\n  const handleKeyDown = event => {\n    if (event.key === \"Enter\" && !event.shiftKey) {\n      event.preventDefault();\n      handleSubmit(event);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"chat-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: input,\n        onChange: handleInputChange,\n        onKeyDown: handleKeyDown,\n        placeholder: \"Type your message...\",\n        className: \"chat-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), browserSupportsSpeechRecognition && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"mic-button\",\n        onClick: toggleSpeech,\n        children: /*#__PURE__*/_jsxDEV(MicIcon, {\n          className: listening ? \"text-red-500\" : \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"send-button\",\n      disabled: isLoading || !input.trim(),\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Ring, {\n          size: 20,\n          lineWeight: 5,\n          speed: 1,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Sending...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(SendForm, \"ZH1juRHF+aGcy9TVEBPC0lL9VzQ=\", false, function () {\n  return [useEnsureRegeneratorRuntime, useSpeechRecognition];\n});\n_c = SendForm;\nvar _c;\n$RefreshReg$(_c, \"SendForm\");","map":{"version":3,"names":["useEnsureRegeneratorRuntime","useEffect","useRef","useState","Ring","SpeechRecognition","useSpeechRecognition","MicIcon","jsxDEV","_jsxDEV","SendForm","input","handleSubmit","isLoading","handleInputChange","_s","listening","resetTranscript","transcript","browserSupportsSpeechRecognition","handleVisibilityChange","document","hidden","stopListening","addEventListener","removeEventListener","target","value","toggleSpeech","startListening","continuous","handleKeyDown","event","key","shiftKey","preventDefault","onSubmit","className","children","onChange","onKeyDown","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","disabled","trim","size","lineWeight","speed","color","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/feedback-management-main/frontend/src/components/chat/chat-form.js"],"sourcesContent":["import { useEnsureRegeneratorRuntime } from \"../../app/hook/useEnsureRegeneratorRuntime\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Ring } from \"@uiball/loaders\";\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\nimport { MicIcon } from \"../icons/mic-icon\";\nimport \"./chat-form.css\";\n\nexport default function SendForm({\n  input,\n  handleSubmit,\n  isLoading,\n  handleInputChange,\n}) {\n  useEnsureRegeneratorRuntime();\n\n  const {\n    listening,\n    resetTranscript,\n    transcript,\n    browserSupportsSpeechRecognition,\n  } = useSpeechRecognition();\n\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (document.hidden && listening) {\n        SpeechRecognition.stopListening();\n      }\n    };\n\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    return () => {\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n  }, [listening]);\n\n  useEffect(() => {\n    if (transcript) {\n      handleInputChange({ target: { value: transcript } });\n    }\n  }, [transcript, handleInputChange]);\n\n  const toggleSpeech = () => {\n    if (listening) {\n      SpeechRecognition.stopListening();\n    } else {\n      resetTranscript();\n      SpeechRecognition.startListening({ continuous: true });\n    }\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === \"Enter\" && !event.shiftKey) {\n      event.preventDefault();\n      handleSubmit(event);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"chat-form\">\n      <div className=\"input-container\">\n        <textarea\n          value={input}\n          onChange={handleInputChange}\n          onKeyDown={handleKeyDown}\n          placeholder=\"Type your message...\"\n          className=\"chat-input\"\n        />\n        {browserSupportsSpeechRecognition && (\n          <button\n            type=\"button\"\n            className=\"mic-button\"\n            onClick={toggleSpeech}\n          >\n            <MicIcon className={listening ? \"text-red-500\" : \"text-gray-500\"} />\n          </button>\n        )}\n      </div>\n      <button \n        type=\"submit\" \n        className=\"send-button\"\n        disabled={isLoading || !input.trim()}\n      >\n        {isLoading ? (\n          <div className=\"flex items-center gap-2\">\n            <Ring size={20} lineWeight={5} speed={1} color=\"white\" />\n            <span>Sending...</span>\n          </div>\n        ) : (\n          \"Send\"\n        )}\n      </button>\n    </form>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}